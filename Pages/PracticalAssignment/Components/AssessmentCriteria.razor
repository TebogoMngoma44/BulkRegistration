@* Components/PracticalAssignment/AssessmentCriteria.razor *@
@using MudBlazor
@attribute [Authorize] 

@* 
<CascadingAuthenticationState>
    <AuthorizeView Context="UserList">
        <Authorized>
*@<MudPaper Class="assessment-container" Style="padding: 32px;" Elevation="0">

    <!-- How Your Assignment Will Be Evaluated -->
    <MudText Class="section-title">
        <MudIcon Icon="@Icons.Material.Filled.Assignment" Style="font-size: 18px;" />
        How Your Assignment Will Be Evaluated
    </MudText>

    @foreach (var criteria in assessmentCriteria)
    {
        <MudPaper Class="criteria-card" Elevation="0">
            <MudText Class="criteria-weight">@criteria.Weight</MudText>
            <MudText Class="criteria-title">@criteria.Title</MudText>
            <MudText Class="criteria-description">
                @criteria.Description
            </MudText>
        </MudPaper>
    }

    <!-- Pass Mark -->
    <MudPaper Class="pass-mark-section" Elevation="0">
        <MudText Class="pass-mark-percentage">65%</MudText>
        <MudText Class="pass-mark-text">Minimum Pass Mark Required</MudText>
    </MudPaper>

    <!-- Grading Scale -->
    <MudPaper Class="grading-scale-section" Elevation="0">
        <MudText Class="grading-scale-title">
            <MudIcon Icon="@Icons.Material.Filled.Grade" Style="font-size: 18px;" />
            Grading Scale
        </MudText>

        <MudPaper Class="grade-item grade-excellent" Elevation="0">
            <MudText Class="grade-label">Excellent</MudText>
            <MudText Class="grade-range">80-100%</MudText>
        </MudPaper>

        <MudPaper Class="grade-item grade-good" Elevation="0">
            <MudText Class="grade-label">Good</MudText>
            <MudText Class="grade-range">70-79%</MudText>
        </MudPaper>

        <MudPaper Class="grade-item grade-satisfactory" Elevation="0">
            <MudText Class="grade-label">Satisfactory</MudText>
            <MudText Class="grade-range">60-69%</MudText>
        </MudPaper>

        <MudPaper Class="grade-item grade-needs-improvement" Elevation="0">
            <MudText Class="grade-label">Needs Improvement</MudText>
            <MudText Class="grade-range">0-59%</MudText>
        </MudPaper>
    </MudPaper>

    <!-- Tips for Success -->
    <MudPaper Class="tips-section" Elevation="0">
        <MudText Class="tips-title">
            <MudIcon Icon="@Icons.Material.Filled.Lightbulb" Style="font-size: 18px;" />
            Tips for Success
        </MudText>

        <MudText Class="tip-item">
            Start by thoroughly understanding the dataset structure and identifying key variables for analysis
        </MudText>
        <MudText Class="tip-item">
            Use a variety of Excel functions including VLOOKUP, PivotTables, and statistical functions
        </MudText>
        <MudText Class="tip-item">
            Create clear, professional charts and visualizations that support your analysis
        </MudText>
        <MudText Class="tip-item">
            Ensure your analysis tells a coherent story with logical flow from data to insights to recommendations
        </MudText>
        <MudText Class="tip-item">
            Double-check all formulas and calculations for accuracy before submission
        </MudText>
        <MudText Class="tip-item">
            Format your workbook professionally with clear sheet names, headers, and documentation
        </MudText>
    </MudPaper>

</MudPaper>
@*                   </Authorized>
        <NotAuthorized>
            @{
                NavigationManager.NavigateTo("/auth/logout");
            }
        </NotAuthorized>
    </AuthorizeView>
</CascadingAuthenticationState> *@

@code {
    private readonly List<AssessmentCriterion> assessmentCriteria = new()
    {
        new AssessmentCriterion
        {
            Title = "Technical Skills",
            Weight = "40%",
            Description = "Correct use of Excel functions and features. Demonstration of proficiency with formulas, data manipulation, and Excel's advanced capabilities."
        },
        new AssessmentCriterion
        {
            Title = "Data Analysis",
            Weight = "25%",
            Description = "Quality of insights and interpretations. Ability to analyze data patterns, draw meaningful conclusions, and present findings effectively."
        },
        new AssessmentCriterion
        {
            Title = "Presentation",
            Weight = "20%",
            Description = "Professional formatting and chart design. Clear organization, appropriate visualizations, and overall presentation quality."
        },
        new AssessmentCriterion
        {
            Title = "Accuracy",
            Weight = "15%",
            Description = "Correct calculations and error-free formulas. Attention to detail and validation of results throughout the analysis."
        }
    };

    private class AssessmentCriterion
    {
        public string Title { get; set; } = "";
        public string Weight { get; set; } = "";
        public string Description { get; set; } = "";
    }
}

<style>
    .assessment-container {
        padding: 0;
        background: white;
    }

    .section-title {
        font-size: 16px;
        font-weight: 600;
        color: #1e3a5f;
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .criteria-card {
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 16px;
        background: white;
        border-left: 4px solid #1e3a5f;
        position: relative;
    }

    .criteria-title {
        font-size: 14px;
        font-weight: 600;
        color: #1e3a5f;
        margin-bottom: 8px;
    }

    .criteria-description {
        font-size: 13px;
        color: #6b7280;
        line-height: 1.5;
    }

    .criteria-weight {
        position: absolute;
        top: 16px;
        right: 16px;
        background: #1e3a5f;
        color: white;
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
    }

    .pass-mark-section {
        background: #fef3c7;
        border: 1px solid #f59e0b;
        border-radius: 8px;
        padding: 20px;
        text-align: center;
        margin-bottom: 32px;
    }

    .pass-mark-percentage {
        font-size: 36px;
        font-weight: 700;
        color: #92400e;
        margin-bottom: 4px;
    }

    .pass-mark-text {
        font-size: 14px;
        color: #92400e;
        font-weight: 500;
    }

    .grading-scale-section {
        background: #eff6ff;
        border: 1px solid #dbeafe;
        border-radius: 8px;
        padding: 24px;
        margin-bottom: 32px;
    }

    .grading-scale-title {
        font-size: 14px;
        font-weight: 600;
        color: #1e3a5f;
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .grade-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 8px 16px;
        margin: 8px 0;
        border-radius: 6px;
        border-left: 4px solid;
    }

    .grade-excellent {
        background: #f0f9ff;
        border-left-color: #0ea5e9;
    }

    .grade-good {
        background: #f0fdf4;
        border-left-color: #22c55e;
    }

    .grade-satisfactory {
        background: #fffbeb;
        border-left-color: #f59e0b;
    }

    .grade-needs-improvement {
        background: #fef2f2;
        border-left-color: #ef4444;
    }

    .grade-label {
        font-size: 13px;
        font-weight: 600;
        color: #374151;
    }

    .grade-range {
        font-size: 12px;
        color: #6b7280;
    }

    .tips-section {
        background: #f0fdf4;
        border: 1px solid #bbf7d0;
        border-radius: 8px;
        padding: 24px;
    }

    .tips-title {
        font-size: 14px;
        font-weight: 600;
        color: #166534;
        margin-bottom: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .tip-item {
        font-size: 13px;
        color: #374151;
        margin-bottom: 12px;
        padding-left: 16px;
        position: relative;
        line-height: 1.5;
    }

        .tip-item::before {
            content: "•";
            color: #22c55e;
            font-weight: bold;
            position: absolute;
            left: 0;
        }
</style>
